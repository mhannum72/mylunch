<!DOCTYPE html>
<!--[if IE 8]><html lang="en" class="ie8"><![endif]-->
<!--[if IE 9]><html lang="en" class="ie9"><![endif]-->
<!--[if gt IE 9]><!-->
<html class=" js no-touch localstorage sessionstorage contenteditable" lang="en"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Disqus Comments</title>
        <script src="a_data/beacon.js" async=""></script><script src="Hardening%20node.js%20for%20production%20part%202:%20using%20nginx%20to%20avoid%20node.js%20load%20%7C%20Arg%21%20Team%20Blog_files/ga.js" async="" type="text/javascript"></script><script src="a_data/lib.js" charset="utf-8" type="text/javascript"></script><script src="a_data/client.js" charset="utf-8" type="text/javascript"></script><script src="a_data/theme.js" async="" charset="utf-8" type="text/javascript"></script><script src="a_data/max.js" async="" charset="utf-8" type="text/javascript"></script><!-- base href="http://blog.argteam.com/coding/hardening-node-js-for-production-part-2-using-nginx-to-avoid-node-js-load/" -->

        <!--
        
        -->
        <script type="text/json" id="disqus-jsonData">{"cursor": {"hasPrev": false, "total": 22, "prev": null, "hasNext": false, "next": "1:0:0"}, "code": 0, "response": {"thread": {"feed": "http://argteamblog.disqus.com/hardening_nodejs_for_production_part_2_using_nginx_to_avoid_nodejs_load/latest.rss", "reactions": 0, "uploadAdd": "http://argteamblog.disqus.com/thread/hardening_nodejs_for_production_part_2_using_nginx_to_avoid_nodejs_load/async_media_upload/", "dislikes": 0, "likes": 5, "message": "", "id": "756804751", "isDeleted": false, "category": "1065868", "author": "8996235", "userScore": 0, "moderators": [8996235], "createdAt": "2012-07-08T23:57:13", "hasStreaming": false, "uploadRemove": "http://argteamblog.disqus.com/thread/hardening_nodejs_for_production_part_2_using_nginx_to_avoid_nodejs_load/async_media_remove/", "isClosed": false, "link": "http://blog.argteam.com/coding/hardening-node-js-for-production-part-2-using-nginx-to-avoid-node-js-load/", "slug": "hardening_nodejs_for_production_part_2_using_nginx_to_avoid_nodejs_load", "forum": "argteamblog", "identifiers": ["134 http://blog.argteam.com/?p=134"], "posts": 22, "userSubscription": false, "title": "Hardening node.js for production part 2: using nginx to avoid node.js load"}, "forum": {"name": "Arg! Team Blog", "language": "en", "settings": {"allowAnonPost": true, "allowMedia": true, "moderatorText": "", "typeface": "auto", "hasReactions": false, "showNewMedia": true, "audienceSyncEnabled": false, "ssoRequired": false, "backplaneEnabled": false, "useHandlebars": true, "showNewLogin": false, "colorScheme": "auto", "linkAffiliationEnabled": true}, "url": "http://blog.argteam.com", "favicon": {"permalink": "http://disqus.com/api/forums/favicons/argteamblog.jpg", "cache": "http://mediacdn.disqus.com/1367873877/images/favicon-default.png"}, "pk": 1045687, "founder": "8996235", "id": "argteamblog"}, "lastModified": 1367923617, "posts": [{"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"username": "facebook-61110307", "about": "", "name": "Daniel Hough", "url": "http://www.facebook.com/danielhough", "isAnonymous": false, "rep": 1.232222, "profileUrl": "http://disqus.com/facebook-61110307/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.232222, "location": "", "isPrimary": true, "joinedAt": "2012-10-22T23:01:16", "id": "34969593", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/facebook-61110307.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/3496/9593/avatar32.jpg?1350946881"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/facebook-61110307.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/3496/9593/avatar92.jpg?1350946881", "large": {"permalink": "http://disqus.com/api/users/avatars/facebook-61110307.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/3496/9593/avatar92.jpg?1350946881"}}}, "media": [], "points": 1, "isFlagged": false, "dislikes": 0, "raw_message": "Guys - awesome guide to getting a good, safe front for node.js using nginx. Saved me hours and hours and hours of messing around with haproxy like I was before. This is a much, much better solution.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-10-22T23:01:20", "isEdited": false, "message": "\u003cp>Guys - awesome guide to getting a good, safe front for node.js using nginx. Saved me hours and hours and hours of messing around with haproxy like I was before. This is a much, much better solution.\u003c/p>", "isHighlighted": false, "id": "689551781", "isDeleted": false, "likes": 1}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"name": "Mickey", "url": "", "profileUrl": "http://disqus.com/guest/f56f2cfae3fa5d20c0a14331bec8e9df/", "emailHash": "f56f2cfae3fa5d20c0a14331bec8e9df", "avatar": {"small": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=f56f2cfae3fa5d20c0a14331bec8e9df", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=f56f2cfae3fa5d20c0a14331bec8e9df"}, "large": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=f56f2cfae3fa5d20c0a14331bec8e9df", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=f56f2cfae3fa5d20c0a14331bec8e9df"}, "permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=f56f2cfae3fa5d20c0a14331bec8e9df", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=f56f2cfae3fa5d20c0a14331bec8e9df"}, "isAnonymous": true}, "media": [], "points": 1, "isFlagged": false, "dislikes": 0, "raw_message": "best article I have read yet describing how to front node.js with nginx.  thank you.  only thing I disagree with is writing your node code in coffeescript.  but that's a different discussion.  ;-)", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-07-12T14:09:11", "isEdited": false, "message": "\u003cp>best article I have read yet describing how to front node.js with nginx.  thank you.  only thing I disagree with is writing your node code in coffeescript.  but that's a different discussion.  ;-)\u003c/p>", "isHighlighted": false, "id": "585686027", "isDeleted": false, "likes": 1}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 585686027, "author": {"username": "twitter-175279519", "about": "", "name": "Utuxia Consulting", "url": "http://twitter.com/utuxia", "isAnonymous": false, "rep": 1.227147, "profileUrl": "http://disqus.com/twitter-175279519/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.227147, "location": "", "isPrimary": true, "joinedAt": "2011-02-25T18:56:59", "id": "7618236", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-175279519.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/761/8236/avatar32.jpg?1349844767"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-175279519.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/761/8236/avatar92.jpg?1349844767", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-175279519.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/761/8236/avatar92.jpg?1349844767"}}}, "media": [], "points": 1, "isFlagged": false, "dislikes": 0, "raw_message": "yes, jade and coffeescript are painful :)", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 1, "numReports": 0, "createdAt": "2012-09-23T21:44:35", "isEdited": false, "message": "\u003cp>yes, jade and coffeescript are painful :)\u003c/p>", "isHighlighted": false, "id": "660274596", "isDeleted": false, "likes": 1}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 585686027, "author": {"username": "twitter-21522682", "about": "", "name": "Thomas Dimson", "url": "http://twitter.com/cosbynator", "isAnonymous": false, "rep": 1.209906, "profileUrl": "http://disqus.com/twitter-21522682/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.209906, "location": "", "isPrimary": false, "joinedAt": "2011-09-25T22:18:53", "id": "17228311", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar32.jpg?1363813294"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294"}}}, "media": [], "points": 1, "isFlagged": false, "dislikes": 0, "raw_message": "I happen to have a fondness for obscure punctuation :)", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 1, "numReports": 0, "createdAt": "2012-07-12T16:34:42", "isEdited": false, "message": "\u003cp>I happen to have a fondness for obscure punctuation :)\u003c/p>", "isHighlighted": false, "id": "585799424", "isDeleted": false, "likes": 1}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"username": "ejeklint", "about": "", "name": "Per Ejeklint", "url": "http://ejeklint.se/", "isAnonymous": false, "rep": 1.2473589999999999, "profileUrl": "http://disqus.com/ejeklint/", "emailHash": "af5437abf170ceb9eeccf2c252a298ca", "reputation": 1.2473589999999999, "location": "Stockholm, Sweden", "isPrimary": true, "joinedAt": "2011-09-24T08:00:52", "id": "17176822", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/ejeklint.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1717/6822/avatar32.jpg?1363199533"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/ejeklint.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1717/6822/avatar92.jpg?1363199533", "large": {"permalink": "http://disqus.com/api/users/avatars/ejeklint.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1717/6822/avatar92.jpg?1363199533"}}}, "media": [], "points": 1, "isFlagged": false, "dislikes": 0, "raw_message": "Excellent! Thank you for sharing, this is very nice stuff.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-07-10T10:24:55", "isEdited": false, "message": "\u003cp>Excellent! Thank you for sharing, this is very nice stuff.\u003c/p>", "isHighlighted": false, "id": "583002713", "isDeleted": false, "likes": 1}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"username": "google-9254a994597799ef2599dabb3a60fb19", "about": "", "name": "Anton Stoychev", "url": "", "isAnonymous": false, "rep": 1.233329, "profileUrl": "http://disqus.com/google-9254a994597799ef2599dabb3a60fb19/", "emailHash": "9254a994597799ef2599dabb3a60fb19", "reputation": 1.233329, "location": "", "isPrimary": true, "joinedAt": "2011-09-20T09:53:51", "id": "16987277", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/google-9254a994597799ef2599dabb3a60fb19.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1698/7277/avatar32.jpg?1366408303"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/google-9254a994597799ef2599dabb3a60fb19.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1698/7277/avatar92.jpg?1366408303", "large": {"permalink": "http://disqus.com/api/users/avatars/google-9254a994597799ef2599dabb3a60fb19.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1698/7277/avatar92.jpg?1366408303"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "Great article. Enough detail on explanations and still in a good pace.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2013-04-06T21:56:08", "isEdited": false, "message": "\u003cp>Great article. Enough detail on explanations and still in a good pace.\u003c/p>", "isHighlighted": false, "id": "854628620", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"username": "twitter-28815778", "about": "", "name": "Nicolas Grilly", "url": "http://twitter.com/ngrilly", "isAnonymous": false, "rep": 1.239642, "profileUrl": "http://disqus.com/twitter-28815778/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.239642, "location": "", "isPrimary": true, "joinedAt": "2011-07-20T13:44:16", "id": "14249410", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-28815778.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1424/9410/avatar32.jpg?1363732340"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-28815778.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1424/9410/avatar92.jpg?1363732340", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-28815778.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1424/9410/avatar92.jpg?1363732340"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "You wrote that node.js is not a good fit for CRUD apps. I'm curious to know why? Anyways, thanks for sharing this excellent nginx config!", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2013-03-19T22:32:18", "isEdited": true, "message": "\u003cp>You wrote that node.js is not a good fit for CRUD apps. I'm curious to know why? Anyways, thanks for sharing this excellent nginx config!\u003c/p>", "isHighlighted": false, "id": "835107326", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 835107326, "author": {"username": "twitter-21522682", "about": "", "name": "Thomas Dimson", "url": "http://twitter.com/cosbynator", "isAnonymous": false, "rep": 1.209906, "profileUrl": "http://disqus.com/twitter-21522682/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.209906, "location": "", "isPrimary": false, "joinedAt": "2011-09-25T22:18:53", "id": "17228311", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar32.jpg?1363813294"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294"}}}, "media": [], "points": 2, "isFlagged": false, "dislikes": 0, "raw_message": "Well, I could launch into a long rant about tradeoffs. In a nutshell:\n\n\nSome benefits I see are:\n- A reasonable, way of expressing parallelism (async.js is pretty great - and it is nice to make external service calls without worrying about whether I am blocking requests)\n- Excellent programming model for realtime-apps (we used it for our \"party mode\" and still have no complaints)\n- Same code on server and client? Although, for us the client is objective C so that argument kind of goes away.\n\n\nSome issues I see are:\n- Really, really immature libraries for a lot of things (the main SQL ORM still doesn't have transaction support. I had to submit a patch upstream to get painless connection pooling. I had to write my own S3 put that didn't load things into memory. I had to write my own process monitor and bouncing). Of course, this is somewhat subjective but I got burned a few times during development. \n- Dealing with all the callbacks is a bit awkward - I think this is fine when you are dealing with a small component of an app, but Silly Face Society quickly became callback soup as we grew. If you are pragmatic, people argue that it doesn't happen. Maybe that's true.\n\nThere are similar issues with Rails or Django, but in those cases you have over 5 years of people making CRUD apps on the platform - it is explored territory.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 1, "numReports": 0, "createdAt": "2013-03-20T21:01:32", "isEdited": true, "message": "\u003cp>Well, I could launch into a long rant about tradeoffs. In a nutshell:\u003c/p>\n\n\u003cp>Some benefits I see are:\u003cbr>- A reasonable, way of expressing parallelism (async.js is pretty great - and it is nice to make external service calls without worrying about whether I am blocking requests)\u003cbr>- Excellent programming model for realtime-apps (we used it for our \"party mode\" and still have no complaints)\u003cbr>- Same code on server and client? Although, for us the client is objective C so that argument kind of goes away.\u003c/p>\n\n\u003cp>Some issues I see are:\u003cbr>- Really, really immature libraries for a lot of things (the main SQL ORM still doesn't have transaction support. I had to submit a patch upstream to get painless connection pooling. I had to write my own S3 put that didn't load things into memory. I had to write my own process monitor and bouncing). Of course, this is somewhat subjective but I got burned a few times during development. \u003cbr>- Dealing with all the callbacks is a bit awkward - I think this is fine when you are dealing with a small component of an app, but Silly Face Society quickly became callback soup as we grew. If you are pragmatic, people argue that it doesn't happen. Maybe that's true.\u003c/p>\n\n\u003cp>There are similar issues with Rails or Django, but in those cases you have over 5 years of people making CRUD apps on the platform - it is explored territory.\u003c/p>", "isHighlighted": false, "id": "836356778", "isDeleted": false, "likes": 2}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"username": "twitter-1642051", "about": "", "name": "Chiefus Baltar", "url": "http://twitter.com/tehsuck", "isAnonymous": false, "rep": 1.2369379999999999, "profileUrl": "http://disqus.com/twitter-1642051/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.2369379999999999, "location": "", "isPrimary": true, "joinedAt": "2009-12-10T19:18:40", "id": "1366316", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-1642051.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/136/6316/avatar32.jpg?1366137692"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-1642051.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/136/6316/avatar92.jpg?1366137692", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-1642051.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/136/6316/avatar92.jpg?1366137692"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "This is a very helpful write-up for me. I have a web service written w/ Express.js and I want to offload some of the heavier crap somewhere else. Thanks for the article!", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-12-03T21:39:20", "isEdited": false, "message": "\u003cp>This is a very helpful write-up for me. I have a web service written w/ Express.js and I want to offload some of the heavier crap somewhere else. Thanks for the article!\u003c/p>", "isHighlighted": false, "id": "726411773", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"name": "Nathan", "url": "", "profileUrl": "http://disqus.com/guest/5fc8a0d55015415ae501a523e21b51ce/", "emailHash": "5fc8a0d55015415ae501a523e21b51ce", "avatar": {"small": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=5fc8a0d55015415ae501a523e21b51ce", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=5fc8a0d55015415ae501a523e21b51ce"}, "large": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=5fc8a0d55015415ae501a523e21b51ce", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=5fc8a0d55015415ae501a523e21b51ce"}, "permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=5fc8a0d55015415ae501a523e21b51ce", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=5fc8a0d55015415ae501a523e21b51ce"}, "isAnonymous": true}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "Thank. You.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-10-10T19:23:40", "isEdited": false, "message": "\u003cp>Thank. You.\u003c/p>", "isHighlighted": false, "id": "678488467", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"name": "aqarynet", "url": "", "profileUrl": "http://disqus.com/guest/198a0d3f65ab4b364369d92d51850137/", "emailHash": "198a0d3f65ab4b364369d92d51850137", "avatar": {"small": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=198a0d3f65ab4b364369d92d51850137", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=198a0d3f65ab4b364369d92d51850137"}, "large": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=198a0d3f65ab4b364369d92d51850137", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=198a0d3f65ab4b364369d92d51850137"}, "permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=198a0d3f65ab4b364369d92d51850137", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=198a0d3f65ab4b364369d92d51850137"}, "isAnonymous": true}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "great article......great way to express the apps really impreeesed.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-09-29T22:04:41", "isEdited": false, "message": "\u003cp>great article......great way to express the apps really impreeesed.\u003c/p>", "isHighlighted": false, "id": "666534007", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"username": "twitter-175279519", "about": "", "name": "Utuxia Consulting", "url": "http://twitter.com/utuxia", "isAnonymous": false, "rep": 1.227147, "profileUrl": "http://disqus.com/twitter-175279519/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.227147, "location": "", "isPrimary": true, "joinedAt": "2011-02-25T18:56:59", "id": "7618236", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-175279519.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/761/8236/avatar32.jpg?1349844767"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-175279519.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/761/8236/avatar92.jpg?1349844767", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-175279519.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/761/8236/avatar92.jpg?1349844767"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "Nice article...i was wondering this. Can explain how a CDN will fit into this mix?", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-09-23T21:45:23", "isEdited": false, "message": "\u003cp>Nice article...i was wondering this. Can explain how a CDN will fit into this mix?\u003c/p>", "isHighlighted": false, "id": "660275294", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 660275294, "author": {"username": "twitter-21522682", "about": "", "name": "Thomas Dimson", "url": "http://twitter.com/cosbynator", "isAnonymous": false, "rep": 1.209906, "profileUrl": "http://disqus.com/twitter-21522682/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.209906, "location": "", "isPrimary": false, "joinedAt": "2011-09-25T22:18:53", "id": "17228311", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar32.jpg?1363813294"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294"}}}, "media": [], "points": 2, "isFlagged": false, "dislikes": 0, "raw_message": "CDN? There isn't much to do with a CDN, you would just upload your resources (or have a build script that does) and then have node link to the CDN servers instead of a relative path. They should just be a more available / faster host for static content.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 1, "numReports": 0, "createdAt": "2012-09-24T01:03:36", "isEdited": false, "message": "\u003cp>CDN? There isn't much to do with a CDN, you would just upload your resources (or have a build script that does) and then have node link to the CDN servers instead of a relative path. They should just be a more available / faster host for static content.\u003c/p>", "isHighlighted": false, "id": "660417989", "isDeleted": false, "likes": 2}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"name": "James", "url": "", "profileUrl": "http://disqus.com/guest/0a2a396552e27fcefb80172b23dfd1a8/", "emailHash": "0a2a396552e27fcefb80172b23dfd1a8", "avatar": {"small": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=0a2a396552e27fcefb80172b23dfd1a8", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=0a2a396552e27fcefb80172b23dfd1a8"}, "large": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=0a2a396552e27fcefb80172b23dfd1a8", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=0a2a396552e27fcefb80172b23dfd1a8"}, "permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=0a2a396552e27fcefb80172b23dfd1a8", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=0a2a396552e27fcefb80172b23dfd1a8"}, "isAnonymous": true}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "Good article. node.js is way far away to be a main http server in a production environment and it's ridiculous to serve static contents through node.js. Your solution is by far the best combination to utilize node.js in a production environment. I am also wandering why not only route trafic to node.js only if the request matches certain rules and leave default requests to nginx(assume all you node.js codes are under /njs):\nlocation ~ ^/(njs/) {\n          ...\n          proxy_pass;\n}", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-09-21T17:26:53", "isEdited": false, "message": "\u003cp>Good article. node.js is way far away to be a main http server in a production environment and it's ridiculous to serve static contents through node.js. Your solution is by far the best combination to utilize node.js in a production environment. I am also wandering why not only route trafic to node.js only if the request matches certain rules and leave default requests to nginx(assume all you node.js codes are under /njs):\u003cbr>location ~ ^/(njs/) {\u003cbr>          ...\u003cbr>          proxy_pass;\u003cbr>}\u003c/p>", "isHighlighted": false, "id": "658035275", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 658035275, "author": {"username": "twitter-21522682", "about": "", "name": "Thomas Dimson", "url": "http://twitter.com/cosbynator", "isAnonymous": false, "rep": 1.209906, "profileUrl": "http://disqus.com/twitter-21522682/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.209906, "location": "", "isPrimary": false, "joinedAt": "2011-09-25T22:18:53", "id": "17228311", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar32.jpg?1363813294"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "That would work too! For better or for worse, I'm using node to handle my primary HTTP traffic so it makes sense for it to be the default route (i.e. not namespaced by /njs). If you are using node.js for smaller parts of a large app (say file uploads), then a namespaced route to it makes a lot of sense.\n\n\nAt this point I think it makes more sense to only use it for small parts of a bigger app (like file uploads, or certain real-time aspects), but that's only in hindsight. ", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 1, "numReports": 0, "createdAt": "2012-09-21T18:25:23", "isEdited": false, "message": "\u003cp>That would work too! For better or for worse, I'm using node to handle my primary HTTP traffic so it makes sense for it to be the default route (i.e. not namespaced by /njs). If you are using node.js for smaller parts of a large app (say file uploads), then a namespaced route to it makes a lot of sense.\u003c/p>\n\n\u003cp>At this point I think it makes more sense to only use it for small parts of a bigger app (like file uploads, or certain real-time aspects), but that's only in hindsight. \u003c/p>", "isHighlighted": false, "id": "658094520", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"username": "ItsLeeOwen", "about": "", "name": "ItsLeeOwen", "url": "", "isAnonymous": false, "rep": 1.338036, "profileUrl": "http://disqus.com/ItsLeeOwen/", "emailHash": "6a602079878a2f53b4376fa41f79ad57", "reputation": 1.338036, "location": "", "isPrimary": true, "joinedAt": "2011-12-13T17:12:25", "id": "20125906", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/ItsLeeOwen.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/2012/5906/avatar32.jpg?1366924871"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/ItsLeeOwen.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/2012/5906/avatar92.jpg?1366924871", "large": {"permalink": "http://disqus.com/api/users/avatars/ItsLeeOwen.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/2012/5906/avatar92.jpg?1366924871"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "why use nginx at all?  i thought nodejs is intended to serve http requests?", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-08-29T17:49:44", "isEdited": false, "message": "\u003cp>why use nginx at all?  i thought nodejs is intended to serve http requests?\u003c/p>", "isHighlighted": false, "id": "633370209", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 633370209, "author": {"username": "tdimson", "about": "", "name": "tdimson", "url": "", "isAnonymous": false, "rep": 1.232591, "profileUrl": "http://disqus.com/tdimson/", "emailHash": "ff98859bb7960c81a9ec804555f9f635", "reputation": 1.232591, "location": "", "isPrimary": true, "joinedAt": "2011-04-10T06:15:32", "id": "8996235", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/tdimson.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/899/6235/avatar32.jpg?1346268903"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/tdimson.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/899/6235/avatar92.jpg?1346268903", "large": {"permalink": "http://disqus.com/api/users/avatars/tdimson.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/899/6235/avatar92.jpg?1346268903"}}}, "media": [], "points": 1, "isFlagged": false, "dislikes": 0, "raw_message": "You don't /need/ nginx but you'll lighten the load on your node processes by leaving some of the heavier lifting (SSL, caching, gzip) to nginx. I have a lot more confidence in the nginx modules than I do in most node.js libraries.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 1, "numReports": 0, "createdAt": "2012-08-29T19:35:03", "isEdited": false, "message": "\u003cp>You don't /need/ nginx but you'll lighten the load on your node processes by leaving some of the heavier lifting (SSL, caching, gzip) to nginx. I have a lot more confidence in the nginx modules than I do in most node.js libraries.\u003c/p>", "isHighlighted": false, "id": "633475529", "isDeleted": false, "likes": 1}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 633475529, "author": {"username": "ItsLeeOwen", "about": "", "name": "ItsLeeOwen", "url": "", "isAnonymous": false, "rep": 1.338036, "profileUrl": "http://disqus.com/ItsLeeOwen/", "emailHash": "6a602079878a2f53b4376fa41f79ad57", "reputation": 1.338036, "location": "", "isPrimary": true, "joinedAt": "2011-12-13T17:12:25", "id": "20125906", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/ItsLeeOwen.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/2012/5906/avatar32.jpg?1366924871"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/ItsLeeOwen.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/2012/5906/avatar92.jpg?1366924871", "large": {"permalink": "http://disqus.com/api/users/avatars/ItsLeeOwen.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/2012/5906/avatar92.jpg?1366924871"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "gotcha, do you think your confidence in nginx over node modules comes from lifespan of the tools, size of contributing community, and/or would you say there are other factors as well?", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 2, "numReports": 0, "createdAt": "2012-08-29T19:38:20", "isEdited": false, "message": "\u003cp>gotcha, do you think your confidence in nginx over node modules comes from lifespan of the tools, size of contributing community, and/or would you say there are other factors as well?\u003c/p>", "isHighlighted": false, "id": "633478064", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 633478064, "author": {"username": "tdimson", "about": "", "name": "tdimson", "url": "", "isAnonymous": false, "rep": 1.232591, "profileUrl": "http://disqus.com/tdimson/", "emailHash": "ff98859bb7960c81a9ec804555f9f635", "reputation": 1.232591, "location": "", "isPrimary": true, "joinedAt": "2011-04-10T06:15:32", "id": "8996235", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/tdimson.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/899/6235/avatar32.jpg?1346268903"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/tdimson.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/899/6235/avatar92.jpg?1346268903", "large": {"permalink": "http://disqus.com/api/users/avatars/tdimson.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/899/6235/avatar92.jpg?1346268903"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "That is a bit tough to answer. In this particular case, nginx has much wider adoption than node.js and is engineered (partially) as a reverse proxy. The modules I use are compiled in by default and are used all over the web. With node you would usually use different connect middleware packages to get this functionality - this is far removed from the core HTTP functionality. \n\n\nWithout knowing the particulars of each module, I am hesitant to call them all out as \"immature\". That said, I've had widely varying experiences with different node modules: not all of them are ready for production (see my experiences with connection pooling or S3 uploads). I think it is just the nature of the community right now: lots of people pulling in different directions and lots of abandoned projects on github.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 3, "numReports": 0, "createdAt": "2012-08-29T20:33:00", "isEdited": false, "message": "\u003cp>That is a bit tough to answer. In this particular case, nginx has much wider adoption than node.js and is engineered (partially) as a reverse proxy. The modules I use are compiled in by default and are used all over the web. With node you would usually use different connect middleware packages to get this functionality - this is far removed from the core HTTP functionality. \u003c/p>\n\n\u003cp>Without knowing the particulars of each module, I am hesitant to call them all out as \"immature\". That said, I've had widely varying experiences with different node modules: not all of them are ready for production (see my experiences with connection pooling or S3 uploads). I think it is just the nature of the community right now: lots of people pulling in different directions and lots of abandoned projects on github.\u003c/p>", "isHighlighted": false, "id": "633532053", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"username": "ralphtheninja", "about": "", "name": "ralphtheninja", "url": "", "isAnonymous": false, "rep": 1.2475349999999998, "profileUrl": "http://disqus.com/ralphtheninja/", "emailHash": "f1e8f9904ce47f073ad3c108c839ed47", "reputation": 1.2475349999999998, "location": "", "isPrimary": true, "joinedAt": "2009-09-11T23:58:22", "id": "805799", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/ralphtheninja.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/80/5799/avatar32.jpg?1367578084"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/ralphtheninja.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/80/5799/avatar92.jpg?1367578084", "large": {"permalink": "http://disqus.com/api/users/avatars/ralphtheninja.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/80/5799/avatar92.jpg?1367578084"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "Thanks for an awesome article. Answered many questions that I had cached and also questions I didn't know I had!", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-08-11T23:11:20", "isEdited": false, "message": "\u003cp>Thanks for an awesome article. Answered many questions that I had cached and also questions I didn't know I had!\u003c/p>", "isHighlighted": false, "id": "616846132", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": null, "author": {"name": "James", "url": "", "profileUrl": "http://disqus.com/guest/de02b9e2ab8365e44d142d08cec1953c/", "emailHash": "de02b9e2ab8365e44d142d08cec1953c", "avatar": {"small": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=de02b9e2ab8365e44d142d08cec1953c", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar32.png&size=32&gravatar_id=de02b9e2ab8365e44d142d08cec1953c"}, "large": {"permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=de02b9e2ab8365e44d142d08cec1953c", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=de02b9e2ab8365e44d142d08cec1953c"}, "permalink": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=de02b9e2ab8365e44d142d08cec1953c", "cache": "http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&size=92&gravatar_id=de02b9e2ab8365e44d142d08cec1953c"}, "isAnonymous": true}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "I'm also building a Node app, but it is using web sockets for real time stuff, I've heard that Nginx cannot support web sockets, is there a way of using your setup described but it somehow supporting web sockets too? Then it would be the ultimate solution.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 0, "numReports": 0, "createdAt": "2012-07-12T15:54:20", "isEdited": false, "message": "\u003cp>I'm also building a Node app, but it is using web sockets for real time stuff, I've heard that Nginx cannot support web sockets, is there a way of using your setup described but it somehow supporting web sockets too? Then it would be the ultimate solution.\u003c/p>", "isHighlighted": false, "id": "585765040", "isDeleted": false, "likes": 0}, {"isJuliaFlagged": true, "forum": "argteamblog", "parent": 585765040, "author": {"username": "twitter-21522682", "about": "", "name": "Thomas Dimson", "url": "http://twitter.com/cosbynator", "isAnonymous": false, "rep": 1.209906, "profileUrl": "http://disqus.com/twitter-21522682/", "emailHash": "d41d8cd98f00b204e9800998ecf8427e", "reputation": 1.209906, "location": "", "isPrimary": false, "joinedAt": "2011-09-25T22:18:53", "id": "17228311", "avatar": {"small": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar32.jpg?1363813294"}, "isCustom": false, "permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294", "large": {"permalink": "http://disqus.com/api/users/avatars/twitter-21522682.jpg", "cache": "http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294"}}}, "media": [], "points": 0, "isFlagged": false, "dislikes": 0, "raw_message": "Not out of the box, but from what I've read you can throw Varnish or HAProxy in front of Nginx and route the websocket connections separately. Nginx 1.3 is also around the corner which is supposed to support them (and SPDY!).\n\nIn the Silly Face Society, we have some (true, not web) socket servers that are hosted by node.js. For reasons that I'll probably explain in an upcoming architecture article, I run them on each server independently without any proxy or load balancer. If it makes sense for your use case, you could do something similar and have the websockets route directly to machines.", "isApproved": true, "isSpam": false, "thread": "756804751", "depth": 1, "numReports": 0, "createdAt": "2012-07-12T16:44:26", "isEdited": false, "message": "\u003cp>Not out of the box, but from what I've read you can throw Varnish or HAProxy in front of Nginx and route the websocket connections separately. Nginx 1.3 is also around the corner which is supposed to support them (and SPDY!).\u003c/p>\n\n\u003cp>In the Silly Face Society, we have some (true, not web) socket servers that are hosted by node.js. For reasons that I'll probably explain in an upcoming architecture article, I run them on each server independently without any proxy or load balancer. If it makes sense for your use case, you could do something similar and have the websockets route directly to machines.\u003c/p>", "isHighlighted": false, "id": "585807671", "isDeleted": false, "likes": 0}], "theme": {"base": {"name": "Disqus 2012", "css": "http://mediacdn.disqus.com/1367873877/build/next/lounge/theme.css", "js": "http://mediacdn.disqus.com/1367873877/build/next/lounge/theme.js"}}, "session": {"canModerate": false, "isReadOnly": null, "audienceSyncVerified": false, "canReply": true, "notificationCount": null, "mustVerifyEmail": false}, "features": {}}, "order": "popular"}</script>

        
        <style>
            html { overflow: hidden; }

            #postCompatContainer {
                position: absolute;
                left: -10000px;
                width: 1000px;
            }
        </style>
        
    <style id="css_1367963501136"></style><link href="a_data/theme.css" type="text/css" rel="stylesheet"><link href="a_data/max.css" type="text/css" rel="stylesheet"><script charset="UTF-8" async="" src="a_data/event_003.js"></script><script charset="UTF-8" async="" src="a_data/event_004.js"></script><script charset="UTF-8" async="" src="a_data/event_002.js"></script><script charset="UTF-8" async="" src="a_data/event.js"></script></head>

    <body>
        
        <div id="postCompatContainer">
            <ul>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/facebook-61110307/">Daniel Hough</a>
                    </h4>

                    <div>
                        <p>Guys - awesome guide to getting a good, safe 
front for node.js using nginx. Saved me hours and hours and hours of 
messing around with haproxy like I was before. This is a much, much 
better solution.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/guest/f56f2cfae3fa5d20c0a14331bec8e9df/">Mickey</a>
                    </h4>

                    <div>
                        <p>best article I have read yet describing how 
to front node.js with nginx.  thank you.  only thing I disagree with is 
writing your node code in coffeescript.  but that's a different 
discussion.  ;-)</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-175279519/">Utuxia Consulting</a>
                    </h4>

                    <div>
                        <p>yes, jade and coffeescript are painful :)</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-21522682/">Thomas Dimson</a>
                    </h4>

                    <div>
                        <p>I happen to have a fondness for obscure punctuation :)</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/ejeklint/">Per Ejeklint</a>
                    </h4>

                    <div>
                        <p>Excellent! Thank you for sharing, this is very nice stuff.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/google-9254a994597799ef2599dabb3a60fb19/">Anton Stoychev</a>
                    </h4>

                    <div>
                        <p>Great article. Enough detail on explanations and still in a good pace.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-28815778/">Nicolas Grilly</a>
                    </h4>

                    <div>
                        <p>You wrote that node.js is not a good fit for 
CRUD apps. I'm curious to know why? Anyways, thanks for sharing this 
excellent nginx config!</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-21522682/">Thomas Dimson</a>
                    </h4>

                    <div>
                        <p>Well, I could launch into a long rant about tradeoffs. In a nutshell:</p>

<p>Some benefits I see are:<br>- A reasonable, way of expressing 
parallelism (async.js is pretty great - and it is nice to make external 
service calls without worrying about whether I am blocking requests)<br>- Excellent programming model for realtime-apps (we used it for our "party mode" and still have no complaints)<br>- Same code on server and client? Although, for us the client is objective C so that argument kind of goes away.</p>

<p>Some issues I see are:<br>- Really, really immature libraries for a 
lot of things (the main SQL ORM still doesn't have transaction support. I
 had to submit a patch upstream to get painless connection pooling. I 
had to write my own S3 put that didn't load things into memory. I had to
 write my own process monitor and bouncing). Of course, this is somewhat
 subjective but I got burned a few times during development. <br>- 
Dealing with all the callbacks is a bit awkward - I think this is fine 
when you are dealing with a small component of an app, but Silly Face 
Society quickly became callback soup as we grew. If you are pragmatic, 
people argue that it doesn't happen. Maybe that's true.</p>

<p>There are similar issues with Rails or Django, but in those cases you
 have over 5 years of people making CRUD apps on the platform - it is 
explored territory.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-1642051/">Chiefus Baltar</a>
                    </h4>

                    <div>
                        <p>This is a very helpful write-up for me. I 
have a web service written w/ Express.js and I want to offload some of 
the heavier crap somewhere else. Thanks for the article!</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/guest/5fc8a0d55015415ae501a523e21b51ce/">Nathan</a>
                    </h4>

                    <div>
                        <p>Thank. You.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/guest/198a0d3f65ab4b364369d92d51850137/">aqarynet</a>
                    </h4>

                    <div>
                        <p>great article......great way to express the apps really impreeesed.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-175279519/">Utuxia Consulting</a>
                    </h4>

                    <div>
                        <p>Nice article...i was wondering this. Can explain how a CDN will fit into this mix?</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-21522682/">Thomas Dimson</a>
                    </h4>

                    <div>
                        <p>CDN? There isn't much to do with a CDN, you 
would just upload your resources (or have a build script that does) and 
then have node link to the CDN servers instead of a relative path. They 
should just be a more available / faster host for static content.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/guest/0a2a396552e27fcefb80172b23dfd1a8/">James</a>
                    </h4>

                    <div>
                        <p>Good article. node.js is way far away to be a
 main http server in a production environment and it's ridiculous to 
serve static contents through node.js. Your solution is by far the best 
combination to utilize node.js in a production environment. I am also 
wandering why not only route trafic to node.js only if the request 
matches certain rules and leave default requests to nginx(assume all you
 node.js codes are under /njs):<br>location ~ ^/(njs/) {<br>          ...<br>          proxy_pass;<br>}</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-21522682/">Thomas Dimson</a>
                    </h4>

                    <div>
                        <p>That would work too! For better or for worse,
 I'm using node to handle my primary HTTP traffic so it makes sense for 
it to be the default route (i.e. not namespaced by /njs). If you are 
using node.js for smaller parts of a large app (say file uploads), then a
 namespaced route to it makes a lot of sense.</p>

<p>At this point I think it makes more sense to only use it for small 
parts of a bigger app (like file uploads, or certain real-time aspects),
 but that's only in hindsight. </p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/ItsLeeOwen/">ItsLeeOwen</a>
                    </h4>

                    <div>
                        <p>why use nginx at all?  i thought nodejs is intended to serve http requests?</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/tdimson/">tdimson</a>
                    </h4>

                    <div>
                        <p>You don't /need/ nginx but you'll lighten the
 load on your node processes by leaving some of the heavier lifting 
(SSL, caching, gzip) to nginx. I have a lot more confidence in the nginx
 modules than I do in most node.js libraries.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/ItsLeeOwen/">ItsLeeOwen</a>
                    </h4>

                    <div>
                        <p>gotcha, do you think your confidence in nginx
 over node modules comes from lifespan of the tools, size of 
contributing community, and/or would you say there are other factors as 
well?</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/tdimson/">tdimson</a>
                    </h4>

                    <div>
                        <p>That is a bit tough to answer. In this 
particular case, nginx has much wider adoption than node.js and is 
engineered (partially) as a reverse proxy. The modules I use are 
compiled in by default and are used all over the web. With node you 
would usually use different connect middleware packages to get this 
functionality - this is far removed from the core HTTP functionality. </p>

<p>Without knowing the particulars of each module, I am hesitant to call
 them all out as "immature". That said, I've had widely varying 
experiences with different node modules: not all of them are ready for 
production (see my experiences with connection pooling or S3 uploads). I
 think it is just the nature of the community right now: lots of people 
pulling in different directions and lots of abandoned projects on 
github.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/ralphtheninja/">ralphtheninja</a>
                    </h4>

                    <div>
                        <p>Thanks for an awesome article. Answered many questions that I had cached and also questions I didn't know I had!</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/guest/de02b9e2ab8365e44d142d08cec1953c/">James</a>
                    </h4>

                    <div>
                        <p>I'm also building a Node app, but it is using
 web sockets for real time stuff, I've heard that Nginx cannot support 
web sockets, is there a way of using your setup described but it somehow
 supporting web sockets too? Then it would be the ultimate solution.</p>
                    </div>
                </li>
            
                <li>
                    <h4>
                        <a href="http://disqus.com/twitter-21522682/">Thomas Dimson</a>
                    </h4>

                    <div>
                        <p>Not out of the box, but from what I've read 
you can throw Varnish or HAProxy in front of Nginx and route the 
websocket connections separately. Nginx 1.3 is also around the corner 
which is supposed to support them (and SPDY!).</p>

<p>In the Silly Face Society, we have some (true, not web) socket 
servers that are hosted by node.js. For reasons that I'll probably 
explain in an upcoming architecture article, I run them on each server 
independently without any proxy or load balancer. If it makes sense for 
your use case, you could do something similar and have the websockets 
route directly to machines.</p>
                    </div>
                </li>
            
            </ul>
        </div>

        <div id="notFound" style="display:none;">
            <p>We were unable to load Disqus. If you are a moderator please see our <a href="http://docs.disqus.com/help/83/"> troubleshooting guide</a>. </p>
        </div>

        
            

            


<!--[if lte IE 8]>
<script src="http://mediacdn.disqus.com/1367873877/build/next/ie8.js"></script>
<![endif]-->
<!--[if IE 9]>
<script src="http://mediacdn.disqus.com/1367873877/build/next/ie9.js"></script>
<![endif]-->


            
            <script src="a_data/load.js"></script>
            
        
    

<div id="layout">
    <div style="position: static; visibility: visible; display: block;" id="discovery-top">
<div id="discovery-main-c227" class="discovery-main">
    <div id="discovery-note" style="display:none;">
        <div class="alert">
        <a href="#" class="close" data-action="discovery-help-close" title="Close this box"></a>
        Disqus helps you find new and interesting content, discussions 
and products. Some sponsors and ecommerce sites may pay us for these 
recommendations and links. 
    <a href="http://help.disqus.com/customer/portal/articles/666278-introducing-promoted-discovery-and-f-a-q-" target="_blank">Learn more</a>
 or 
    <a href="https://www.surveymonkey.com/s/GHK872T" target="_blank">
        give us feedback</a>
.
        </div>
    </div>

    
        <section id="col-organic-c227" class="col-organic">
            <header class="discovery-col-header">

                
                    
                    <div class="discovery-options">
                        <span class="publisher-anchor-color"><a href="#" class="discovery-help" data-action="discovery-help">What's this?</a></span>
                    </div>
                

                
                
                    <h2>Around The Web</h2>
                

            </header>
            <ul class="discovery-posts">
    
        <li style="clear: left;" class="discovery-post" id="discovery-link-p65123">
            <header class="discovery-post-header">
                <h3 title="6 Biggest Millionaire Flops">
                    <a href="http://redirect.disqus.com/url?url=http%3A%2F%2Fwww.investopedia.com%2Fslide-show%2Fbiggest-millionaire-flops%3Fpartner%3Dvcb%3Futm_campaign%3Dinv-dsq-pfs-012813%26utm_source%3Ddsq%26utm_medium%3Dcpc%26utm_content%3Dadg-na_adv-na_mtp-na_adc-con_adf-mix_ptp-cp_geo-na%3AVaFk1a9B87sTZfdyCeGCgzg74Zo&amp;imp=136796350109378299&amp;forum_id=1045687&amp;forum=argteamblog&amp;thread_id=756804751&amp;major_version=midway&amp;zone=promoted_discovery&amp;advertisement_id=64503&amp;body_id=65123" target="_blank" rel="nofollow" data-role="discovery-thread-title" class="title publisher-anchor-color line-truncate" data-line-truncate="2">
                        6 Biggest Millionaire Flops
                    </a>

                    
                        
                            
                        
                        
                            <span class="inline-meta">
                                Investopedia
                            </span>
                        
                    

                </h3>

                

            </header>

            

        </li>
    
        <li style="margin-bottom: 14.5px;" class="discovery-post" id="discovery-link-p64080">
            <header class="discovery-post-header">
                <h3 title="Economist: Say Goodbye To Your Life Savings">
                    <a href="http://redirect.disqus.com/url?url=http%3A%2F%2Fmoneymorning.com%2Fob-article%2Fschiff-us-will-win-currency-war.php%3Fcode%3D118408%3AIZMrVslhgrPG1-lNNX3iwoKupm8&amp;imp=136796350109378299&amp;forum_id=1045687&amp;forum=argteamblog&amp;thread_id=756804751&amp;major_version=midway&amp;zone=promoted_discovery&amp;advertisement_id=63476&amp;body_id=64080" target="_blank" rel="nofollow" data-role="discovery-thread-title" class="title publisher-anchor-color line-truncate" data-line-truncate="2">
                        Economist: Say Goodbye To Your Life Savings
                    </a>

                    
                        
                            
                        
                        
                            <span class="inline-meta">
                                Money Morning
                            </span>
                        
                    

                </h3>

                

            </header>

            

        </li>
    
        <li style="clear: left;" class="discovery-post" id="discovery-link-p62548">
            <header class="discovery-post-header">
                <h3 title="Samsung Unveils Its $39,999 Secret, Plus Some 2013 TV Availability">
                    <a href="http://redirect.disqus.com/url?url=http%3A%2F%2Ftelevisioninfo.com%2Fnews%2Fsamsung-unveils-its-39-999-secret-2013-tv-availability%3F%3Futm_source%3DDisqus%26utm_medium%3DCPC%3AXAepoqxddmOzBMNJjhPN59kddhE&amp;imp=136796350109378299&amp;forum_id=1045687&amp;forum=argteamblog&amp;thread_id=756804751&amp;major_version=midway&amp;zone=promoted_discovery&amp;advertisement_id=61974&amp;body_id=62548" target="_blank" rel="nofollow" data-role="discovery-thread-title" class="title publisher-anchor-color line-truncate" data-line-truncate="2">
                        Samsung Unveils Its $39,999 Secret, Plus Some 2013 TV Availability
                    </a>

                    
                        
                            
                        
                        
                            <span class="inline-meta">
                                Reviewed
                            </span>
                        
                    

                </h3>

                

            </header>

            

        </li>
    
        <li style="margin-bottom: 14.5px;" class="discovery-post" id="discovery-link-p56361">
            <header class="discovery-post-header">
                <h3 title="About Iredale Mineral Makeup">
                    <a href="http://redirect.disqus.com/url?url=http%3A%2F%2Fwww.ehow.com%2Ffacts_4777322_iredale-mineral-makeup.html%3Futm_source%3Dsm-disqusarticlelor%26utm_medium%3Dtest83%3AGBGbtCaXND8mb2hq3rlctINMQEw&amp;imp=136796350109378299&amp;forum_id=1045687&amp;forum=argteamblog&amp;thread_id=756804751&amp;major_version=midway&amp;zone=promoted_discovery&amp;advertisement_id=55800&amp;body_id=56361" target="_blank" rel="nofollow" data-role="discovery-thread-title" class="title publisher-anchor-color line-truncate" data-line-truncate="2">
                        About Iredale Mineral Makeup
                    </a>

                    
                        
                            
                        
                        
                            <span class="inline-meta">
                                eHow Style
                            </span>
                        
                    

                </h3>

                

            </header>

            

        </li>
    
        <li style="clear: left;" class="discovery-post" id="discovery-link-p53735">
            <header class="discovery-post-header">
                <h3 title="3 Restaurant Foods That Are Killing You">
                    <a href="http://redirect.disqus.com/url?url=http%3A%2F%2Fdailyhealthpost.com%2F3-restaurant-foods-that-are-killing-you%2F%3ASgyfdV9NrgVcnS1R-7-dPPLJDdo&amp;imp=136796350109378299&amp;forum_id=1045687&amp;forum=argteamblog&amp;thread_id=756804751&amp;major_version=midway&amp;zone=promoted_discovery&amp;advertisement_id=53191&amp;body_id=53735" target="_blank" rel="nofollow" data-role="discovery-thread-title" class="title publisher-anchor-color line-truncate" data-line-truncate="2">
                        3 Restaurant Foods That Are Killing You
                    </a>

                    
                        
                            
                        
                        
                            <span class="inline-meta">
                                Daily Health Post
                            </span>
                        
                    

                </h3>

                

            </header>

            

        </li>
    
        <li style="margin-bottom: 14.5px;" class="discovery-post" id="discovery-link-p64811">
            <header class="discovery-post-header">
                <h3 title="3 Things To Never Do For Your Kids">
                    <a href="http://redirect.disqus.com/url?url=http%3A%2F%2Fwww.mydailymoment.com%2Fmoms%2Fparenting%2F3_things_you_should_never_do_for_your_kids.php%3Futm_source%3DDHTMLdisqusapril13%26utm_medium%3Ddisqusapril13%26utm_term%3D%26utm_content%3Dstyle%26utm_campaign%3DMOMSdisqusapril13%3AUkJ_znE4PA86f6UZOE2CUSn2rqM&amp;imp=136796350109378299&amp;forum_id=1045687&amp;forum=argteamblog&amp;thread_id=756804751&amp;major_version=midway&amp;zone=promoted_discovery&amp;advertisement_id=64192&amp;body_id=64811" target="_blank" rel="nofollow" data-role="discovery-thread-title" class="title publisher-anchor-color line-truncate" data-line-truncate="2">
                        3 Things To Never Do For Your Kids
                    </a>

                    
                        
                            
                        
                        
                            <span class="inline-meta">
                                MyDailyMoment
                            </span>
                        
                    

                </h3>

                

            </header>

            

        </li>
    
        <li style="clear: left;" class="discovery-post" id="discovery-link-p57262">
            <header class="discovery-post-header">
                <h3 title="15 Signs Your Little Girl is Growing Up Too Fast">
                    <a href="http://redirect.disqus.com/url?url=http%3A%2F%2Fmommynoire.com%2F15833%2F15-signs-your-little-girl-is-growing-up-too-fast%2F%3Futm_source%3Ddisqus%26utm_medium%3Dcpc%26utm_content%3Dwidget%26utm_campaign%3Dmom.desktop.usa%3AAw0NyTC9YIWetWbaGe3bqURA9uA&amp;imp=136796350109378299&amp;forum_id=1045687&amp;forum=argteamblog&amp;thread_id=756804751&amp;major_version=midway&amp;zone=promoted_discovery&amp;advertisement_id=56701&amp;body_id=57262" target="_blank" rel="nofollow" data-role="discovery-thread-title" class="title publisher-anchor-color line-truncate" data-line-truncate="2">
                        15 Signs Your Little Girl is Growing Up Too Fast
                    </a>

                    
                        
                            
                        
                        
                            <span class="inline-meta">
                                MommyNoire
                            </span>
                        
                    

                </h3>

                

            </header>

            

        </li>
    
        <li style="margin-bottom: 14.5px;" class="discovery-post" id="discovery-link-p65476">
            <header class="discovery-post-header">
                <h3 title="Is Miranda Kerr's Bikini Too Skimpy?">
                    <a href="http://redirect.disqus.com/url?url=http%3A%2F%2Fwww.zimbio.com%2FMiranda%2BKerr%2BBikini%2BPics%3Futm_source%3Ddisq%26utm_medium%3Dcpc%26utm_campaign%3Ddisq-Z-Specials-1%3A3L72u5KsaaG8_1FjO3oICDYITfQ&amp;imp=136796350109378299&amp;forum_id=1045687&amp;forum=argteamblog&amp;thread_id=756804751&amp;major_version=midway&amp;zone=promoted_discovery&amp;advertisement_id=64856&amp;body_id=65476" target="_blank" rel="nofollow" data-role="discovery-thread-title" class="title publisher-anchor-color line-truncate" data-line-truncate="2">
                        Is Miranda Kerr's Bikini Too Skimpy?
                    </a>

                    
                        
                            
                        
                        
                            <span class="inline-meta">
                                Zimbio
                            </span>
                        
                    

                </h3>

                

            </header>

            

        </li>
    
</ul>
        </section>
    

</div>
</div>

    <div style="clear:both"></div>

    <div id="thread-votes" class="pull-right"><div class="thread-likes " data-role="vote-button">
        <a href="#" data-action="upvote" title="Star this discussion">
            <span class="notch"></span>
            <span class="icon-star"></span>
            <span class="counter"><span data-role="like-count">5</span></span>
            <img src="a_data/checkx2.png" class="check-mark" alt="Voted" height="8" width="10">
        </a>
    </div></div>

    <div id="realtime-toggle"></div>

    <nav id="global-nav">
        <ul class="publisher-anchor-hover">
            <li class="active" data-role="global-nav">
                <a href="#" id="post-count" data-nav="conversation">
    <h4>
            22 comments
        </h4>
</a>
            </li>

            
        </ul>
    </nav>

    <div id="form"><div class="reply  ">
    <div class="alert error" style="display:none" role="alert">
        <a class="close" data-action="dismiss-alert" title="Dismiss"></a>
        <span><!-- error goes here --></span>
    </div>

    <div class="postbox">
        <div class="avatar">
            
                <span class="user">
                    <img data-role="user-avatar" src="a_data/noavatar92.png">
                </span>
            
        </div>
        <form action="">
            <div class="textarea-wrapper" data-role="textarea">
                <div style="overflow: auto; max-height: 350px;" aria-multiline="true" role="textbox" tabindex="0" class="textarea" contenteditable="true"><span class="placeholder">Leave a message...</span></div>
                <div data-role="drag-drop-placeholder" class="media-drag-hover" style="display: none">
                    <div class="drag-text">
                         Drag and drop your images here to upload them.
                    </div>
                </div>
                
                    <div class="media-preview empty" data-role="media-preview">
                        <ul data-role="media-preview-list">
                        
                        </ul>
                        <div class="media-expanded empty" data-role="media-preview-expanded">
                            
                            <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-role="media-preview-expanded-image">
                        </div>
                    </div>
                
                <div class="post-actions">
                    <ul class="wysiwyg">
                        
                            <li>
                                <a href="#" tabindex="-1" data-action="attach" class="attach" title="Upload Images"><span>Attach</span></a>
                                <input data-role="media-upload" tabindex="-1" class="regular" accept="image/*" type="file">
                            </li>
                        
                        
                    </ul>
                    
                    
                </div>
            <div></div></div>
            
                
<div class="logged-out auth-section">
    <section data-tab="auth-external">
        <div class="connect">
            <h6>Sign in with</h6>
            <ul class="services">
                
                    
                
                 <li class="auth-disqus">
                    <a data-action="auth:disqus" href="#" title="Disqus">Disqus</a>
                </li>
                <li class="auth-facebook">
                    <a data-action="auth:facebook" href="#" title="Facebook">Facebook</a>
                </li>
                <li class="auth-twitter">
                    <a data-action="auth:twitter" href="#" title="Twitter">Twitter</a>
                </li>
                <li class="auth-google">
                    <a data-action="auth:google" href="#" title="Google">Google</a>
                </li>
            </ul>
        </div>

        
    <div class="guest">
        <h6 class="guest-form-title">
            
                or pick a name
            
        </h6>

        <div href="#" class="what-is-disqus">What's Disqus?
            <div id="rules" class="tooltip show">
                <h3>DISQUS is a conversation network</h3>
                <ul>
                    <li><span>Disqus never moderates or censors. The rules on this community are its own.</span></li>
                    <li><span>Your email is safe with us. It's only used for moderation and optional notifications.</span></li>
                    <li><span>Don't be a jerk or do anything illegal. Everything is easier that way.</span></li>
                    </ul>
                <p class="clearfix"><a href="http://docs.disqus.com/kb/terms-and-policies/" class="btn btn-small" target="_blank">Read full terms and conditions</a></p>
            </div>
        </div>

        <p class="input-wrapper">
            <input placeholder="Name" name="author-name" maxlength="30" type="text">
        </p>

        <div class="guest-details " data-role="guest-details">
            <p class="input-wrapper">
                <input placeholder="Email" name="author-email" type="text">
            </p>

            
                
                    <div>
                        <label>
                            <input name="author-register" type="checkbox">
                            Register with Disqus
                        </label>
                    </div>
                
            

        </div>
    </div>
    <div class="proceed">
        
             <button type="submit" class="btn submit" aria-label="Post"><span class="icon-proceed"></span></button>
            <button type="submit" class="btn next" aria-label="Next"><span class="icon-proceed"></span></button>
        
    </div>


    </section>
</div>

            
            
        </form>
    </div>
</div></div>

    <div id="main-nav" class="nav">
        <ul>
            
<li data-role="post-sort" class="active dropdown">
    <a href="#" data-nav="conversation" class="dropdown-toggle publisher-nav-color" data-toggle="dropdown">
        Best
        
        
        <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
        <li class="selected">
            <a href="#" data-action="sort" data-sort="popular">Best</a>
        </li>

        <li>
            <a href="#" data-action="sort" data-sort="desc">Newest</a>
        </li>

        <li>
            <a href="#" data-action="sort" data-sort="asc">Oldest</a>
        </li>
    </ul>
</li>


            <li><a href="#" data-nav="community" class="publisher-nav-color" id="community-tab">Community</a></li>
            <li><a href="#" data-nav="dashboard" style="display:none" class="publisher-nav-color">My Disqus <span class="notification-count" data-role="notification-count" style="display:none"></span></a></li>

            <li class="user-menu dropdown" data-role="logout">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <span class="cog"><i aria-hidden="true" class="icon-cog"></i></span> <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
        
        
			
            	<li>
                	<a href="#" data-action="auth:disqus">Login</a>
            	</li>
        	
        

        

        
        <li>
            <a href="https://www.surveymonkey.com/s/5RBPTTZ?c=http%3A%2F%2Fblog.argteam.com%2Fcoding%2Fhardening-node-js-for-production-part-2-using-nginx-to-avoid-node-js-load%2F" target="_blank">Send Feedback</a>
        </li>
        

        

        
    </ul>
</li>

            <li id="thread-share-menu" class="share-menu dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Share">
                    <span class="label">Share</span> <span class="icon-export"></span>
                </a>
                <ul class="dropdown-menu pull-right">
                    <li class="share">Share this discussion on
                        <ul>
                            <li class="twitter">
                                <a data-action="share:twitter" href="#">Twitter</a>
                            </li>
                            <li class="facebook">
                                <a data-action="share:facebook" href="#">Facebook</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>

        </ul>
    </div>

    <section id="conversation" data-role="main">
        <div id="posts">
            <button class="alert realtime" style="display: none" data-action="load-queued-posts" data-role="realtime-notification">
                <!-- Show 2 new posts. -->
            </button>

            <!-- This message appears when there are no comments -->
            <div id="no-posts" style="display:none">No one has commented yet.</div>

            <ul id="post-list" class="post-list"><li class="post
    " id="post-689551781">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="34969593">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/3496/9593/avatar92.jpg?1350946881" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="34969593">Daniel Hough</a></span>
                            
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-689551781" data-role="relative-time" class="time-ago" title="Monday, October 22 2012 7:01 PM">7 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Guys - awesome guide to getting a
 good, safe front for node.js using nginx. Saved me hours and hours and 
hours of messing around with haproxy like I was before. This is a much, 
much better solution.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:689551781">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-1" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">1</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-689551781">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li><li class="post
    " id="post-585686027">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar">
                        <div class="user"><img data-src="http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&amp;size=92&amp;gravatar_id=f56f2cfae3fa5d20c0a14331bec8e9df" class="user" alt="Avatar"></div>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="name">Mickey</span>
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-585686027" data-role="relative-time" class="time-ago" title="Thursday, July 12 2012 10:09 AM">10 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>best article I have read yet 
describing how to front node.js with nginx.  thank you.  only thing I 
disagree with is writing your node code in coffeescript.  but that's a 
different discussion.  ;-)</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:585686027">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-1" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">1</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-585686027">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

<li class="post
    " id="post-660274596">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="7618236">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/761/8236/avatar92.jpg?1349844767" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="7618236">Utuxia Consulting</a></span>
                            
                        

                        
                            <span><a href="#comment-585686027" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Mickey</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-660274596" data-role="relative-time" class="time-ago" title="Sunday, September 23 2012 5:44 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>yes, jade and coffeescript are painful :)</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:660274596">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-1" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">1</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-660274596">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li><li class="post
    " id="post-585799424">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="17228311">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="17228311">Thomas Dimson</a></span>
                            
                        

                        
                            <span><a href="#comment-585686027" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Mickey</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-585799424" data-role="relative-time" class="time-ago" title="Thursday, July 12 2012 12:34 PM">10 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>I happen to have a fondness for obscure punctuation :)</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:585799424">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-1" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">1</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-585799424">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li></ul></li><li class="post
    " id="post-583002713">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="17176822">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/1717/6822/avatar92.jpg?1363199533" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="17176822">Per Ejeklint</a></span>
                            
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-583002713" data-role="relative-time" class="time-ago" title="Tuesday, July 10 2012 6:24 AM">10 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Excellent! Thank you for sharing, this is very nice stuff.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:583002713">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-1" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">1</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-583002713">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li><li class="post
    " id="post-854628620">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="16987277">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/1698/7277/avatar92.jpg?1366408303" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="16987277">Anton Stoychev</a></span>
                            
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-854628620" data-role="relative-time" class="time-ago" title="Saturday, April 6 2013 5:56 PM">a month ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Great article. Enough detail on explanations and still in a good pace.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:854628620">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-854628620">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li><li class="post
    " id="post-835107326">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="14249410">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/1424/9410/avatar92.jpg?1363732340" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="14249410">Nicolas Grilly</a></span>
                            
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-835107326" data-role="relative-time" class="time-ago" title="Tuesday, March 19 2013 6:32 PM">2 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>You wrote that node.js is not a 
good fit for CRUD apps. I'm curious to know why? Anyways, thanks for 
sharing this excellent nginx config!</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:835107326">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-835107326">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

<li class="post
    " id="post-836356778">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="17228311">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="17228311">Thomas Dimson</a></span>
                            
                        

                        
                            <span><a href="#comment-835107326" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Nicolas Grilly</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-836356778" data-role="relative-time" class="time-ago" title="Wednesday, March 20 2013 5:01 PM">2 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Well, I could launch into a long rant about tradeoffs. In a nutshell:</p>

<p>Some benefits I see are:<br>- A reasonable, way of expressing 
parallelism (async.js is pretty great - and it is nice to make external 
service calls without worrying about whether I am blocking requests)<br>- Excellent programming model for realtime-apps (we used it for our "party mode" and still have no complaints)<br>- Same code on server and client? Although, for us the client is objective C so that argument kind of goes away.</p>

<p>Some issues I see are:<br>- Really, really immature libraries for a 
lot of things (the main SQL ORM still doesn't have transaction support. I
 had to submit a patch upstream to get painless connection pooling. I 
had to write my own S3 put that didn't load things into memory. I had to
 write my own process monitor and bouncing). Of course, this is somewhat
 subjective but I got burned a few times during development. <br>- 
Dealing with all the callbacks is a bit awkward - I think this is fine 
when you are dealing with a small component of an app, but Silly Face 
Society quickly became callback soup as we grew. If you are pragmatic, 
people argue that it doesn't happen. Maybe that's true.</p>

<p>There are similar issues with Rails or Django, but in those cases you
 have over 5 years of people making CRUD apps on the platform - it is 
explored territory.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:836356778">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-2" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">2</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-836356778">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li></ul></li><li class="post
    " id="post-726411773">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="1366316">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/136/6316/avatar92.jpg?1366137692" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="1366316">Chiefus Baltar</a></span>
                            
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-726411773" data-role="relative-time" class="time-ago" title="Monday, December 3 2012 4:39 PM">5 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>This is a very helpful write-up 
for me. I have a web service written w/ Express.js and I want to offload
 some of the heavier crap somewhere else. Thanks for the article!</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:726411773">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-726411773">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li><li class="post
    " id="post-678488467">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar">
                        <div class="user"><img data-src="http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&amp;size=92&amp;gravatar_id=5fc8a0d55015415ae501a523e21b51ce" class="user" alt="Avatar"></div>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="name">Nathan</span>
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-678488467" data-role="relative-time" class="time-ago" title="Wednesday, October 10 2012 3:23 PM">7 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Thank. You.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:678488467">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-678488467">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li><li class="post
    " id="post-666534007">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar">
                        <div class="user"><img data-src="http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&amp;size=92&amp;gravatar_id=198a0d3f65ab4b364369d92d51850137" class="user" alt="Avatar"></div>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="name">aqarynet</span>
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-666534007" data-role="relative-time" class="time-ago" title="Saturday, September 29 2012 6:04 PM">7 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>great article......great way to express the apps really impreeesed.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:666534007">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-666534007">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li><li class="post
    " id="post-660275294">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="7618236">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/761/8236/avatar92.jpg?1349844767" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="7618236">Utuxia Consulting</a></span>
                            
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-660275294" data-role="relative-time" class="time-ago" title="Sunday, September 23 2012 5:45 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Nice article...i was wondering this. Can explain how a CDN will fit into this mix?</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:660275294">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-660275294">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

<li class="post
    " id="post-660417989">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="17228311">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="17228311">Thomas Dimson</a></span>
                            
                        

                        
                            <span><a href="#comment-660275294" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Utuxia Consulting</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-660417989" data-role="relative-time" class="time-ago" title="Sunday, September 23 2012 9:03 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>CDN? There isn't much to do with a
 CDN, you would just upload your resources (or have a build script that 
does) and then have node link to the CDN servers instead of a relative 
path. They should just be a more available / faster host for static 
content.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:660417989">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-2" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">2</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-660417989">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li></ul></li><li class="post
    " id="post-658035275">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar">
                        <div class="user"><img data-src="http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&amp;size=92&amp;gravatar_id=0a2a396552e27fcefb80172b23dfd1a8" class="user" alt="Avatar"></div>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="name">James</span>
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-658035275" data-role="relative-time" class="time-ago" title="Friday, September 21 2012 1:26 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Good article. node.js is way far 
away to be a main http server in a production environment and it's 
ridiculous to serve static contents through node.js. Your solution is by
 far the best combination to utilize node.js in a production 
environment. I am also wandering why not only route trafic to node.js 
only if the request matches certain rules and leave default requests to 
nginx(assume all you node.js codes are under /njs):<br>location ~ ^/(njs/) {<br>          ...<br>          proxy_pass;<br>}</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:658035275">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-658035275">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

<li class="post
    " id="post-658094520">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="17228311">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="17228311">Thomas Dimson</a></span>
                            
                        

                        
                            <span><a href="#comment-658035275" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> James</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-658094520" data-role="relative-time" class="time-ago" title="Friday, September 21 2012 2:25 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>That would work too! For better 
or for worse, I'm using node to handle my primary HTTP traffic so it 
makes sense for it to be the default route (i.e. not namespaced by 
/njs). If you are using node.js for smaller parts of a large app (say 
file uploads), then a namespaced route to it makes a lot of sense.</p>

<p>At this point I think it makes more sense to only use it for small 
parts of a bigger app (like file uploads, or certain real-time aspects),
 but that's only in hindsight. </p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:658094520">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-658094520">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li></ul></li><li class="post
    " id="post-633370209">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="20125906">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/2012/5906/avatar92.jpg?1366924871" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="20125906">ItsLeeOwen</a></span>
                            
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-633370209" data-role="relative-time" class="time-ago" title="Wednesday, August 29 2012 1:49 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>why use nginx at all?  i thought nodejs is intended to serve http requests?</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:633370209">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-633370209">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

<li class="post
    " id="post-633475529">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="8996235">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/899/6235/avatar92.jpg?1346268903" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="8996235">tdimson</a></span>
                            
                                <span class="badge moderator">Mod</span>
                            
                        

                        
                            <span><a href="#comment-633370209" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ItsLeeOwen</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-633475529" data-role="relative-time" class="time-ago" title="Wednesday, August 29 2012 3:35 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>You don't /need/ nginx but you'll
 lighten the load on your node processes by leaving some of the heavier 
lifting (SSL, caching, gzip) to nginx. I have a lot more confidence in 
the nginx modules than I do in most node.js libraries.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:633475529">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-1" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">1</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-633475529">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

<li class="post
    " id="post-633478064">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="20125906">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/2012/5906/avatar92.jpg?1366924871" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="20125906">ItsLeeOwen</a></span>
                            
                        

                        
                            <span><a href="#comment-633475529" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> tdimson</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-633478064" data-role="relative-time" class="time-ago" title="Wednesday, August 29 2012 3:38 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>gotcha, do you think your 
confidence in nginx over node modules comes from lifespan of the tools, 
size of contributing community, and/or would you say there are other 
factors as well?</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:633478064">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-633478064">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

<li class="post
    " id="post-633532053">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="8996235">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/899/6235/avatar92.jpg?1346268903" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="8996235">tdimson</a></span>
                            
                                <span class="badge moderator">Mod</span>
                            
                        

                        
                            <span><a href="#comment-633478064" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ItsLeeOwen</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-633532053" data-role="relative-time" class="time-ago" title="Wednesday, August 29 2012 4:33 PM">8 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>That is a bit tough to answer. In
 this particular case, nginx has much wider adoption than node.js and is
 engineered (partially) as a reverse proxy. The modules I use are 
compiled in by default and are used all over the web. With node you 
would usually use different connect middleware packages to get this 
functionality - this is far removed from the core HTTP functionality. </p>

<p>Without knowing the particulars of each module, I am hesitant to call
 them all out as "immature". That said, I've had widely varying 
experiences with different node modules: not all of them are ready for 
production (see my experiences with connection pooling or S3 uploads). I
 think it is just the nature of the community right now: lots of people 
pulling in different directions and lots of abandoned projects on 
github.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:633532053">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-633532053">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li></ul></li></ul></li></ul></li><li class="post
    " id="post-616846132">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="805799">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/80/5799/avatar92.jpg?1367578084" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="805799">ralphtheninja</a></span>
                            
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-616846132" data-role="relative-time" class="time-ago" title="Saturday, August 11 2012 7:11 PM">9 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Thanks for an awesome article. Answered many questions that I had cached and also questions I didn't know I had!</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:616846132">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-616846132">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li><li class="post
    " id="post-585765040">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar">
                        <div class="user"><img data-src="http://www.gravatar.com/avatar.php?default=http%3A%2F%2Fmediacdn.disqus.com%2F1367873877%2Fimages%2Fnoavatar92.png&amp;size=92&amp;gravatar_id=de02b9e2ab8365e44d142d08cec1953c" class="user" alt="Avatar"></div>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="name">James</span>
                        

                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-585765040" data-role="relative-time" class="time-ago" title="Thursday, July 12 2012 11:54 AM">10 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>I'm also building a Node app, but
 it is using web sockets for real time stuff, I've heard that Nginx 
cannot support web sockets, is there a way of using your setup described
 but it somehow supporting web sockets too? Then it would be the 
ultimate solution.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:585765040">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-585765040">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

<li class="post
    " id="post-585807671">

    <div data-role="post-content" class="post-content ">
        <div class="indicator"></div>

        
            

                
                    <div class="avatar hovercard">
                        <a href="#" class="user" data-action="profile" data-user="17228311">
                            <img data-src="http://mediacdn.disqus.com/uploads/users/1722/8311/avatar92.jpg?1363813294" alt="Avatar">
                        </a>
                    </div>
                

                <div class="post-body">
                    <header>
                        
                            <span class="publisher-anchor-color"><a href="#" data-action="profile" data-user="17228311">Thomas Dimson</a></span>
                            
                        

                        
                            <span><a href="#comment-585765040" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> James</a></span>
                        

                        <span class="bullet" aria-hidden="true"></span>

                        
                            <a href="#comment-585807671" data-role="relative-time" class="time-ago" title="Thursday, July 12 2012 12:44 PM">10 months ago</a>
                        

                        <ul class="post-menu">

                            <li class="collapse"><a href="#" data-action="collapse" title="Collapse"></a></li>
                            <li class="expand" style="display:none"><a href="#" data-action="collapse" title="Expand">+</a></li>

                            <li class="dropdown" data-role="menu" role="menu">
                                
    
        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b class="caret"></b></a>
        <ul class="dropdown-menu invisible">
            
                
                <li><a href="#" data-action="flag">Flag as inappropriate</a></li>
            
        </ul>
    

                            </li>
                        </ul>
                    </header>

                    <!-- Use message-container to manage visible height of the post message (including media) -->
                    <div class="post-message-container" data-role="message-container">
                        <!-- Use message-content to measure post content (including media) -->
                        <div data-role="message-content">
                            <div class="post-message publisher-anchor-color " data-role="message">
                                
                                    <p>Not out of the box, but from what
 I've read you can throw Varnish or HAProxy in front of Nginx and route 
the websocket connections separately. Nginx 1.3 is also around the 
corner which is supposed to support them (and SPDY!).</p>

<p>In the Silly Face Society, we have some (true, not web) socket 
servers that are hosted by node.js. For reasons that I'll probably 
explain in an upcoming architecture article, I run them on each server 
independently without any proxy or load balancer. If it makes sense for 
your use case, you could do something similar and have the websockets 
route directly to machines.</p>
                                
                            </div>

                            
                        </div>
                    </div>

                    <div class="message-shadow hidden" data-role="message-shadow"></div>
                    <a href="#" class="more-button hidden" title="see more" data-action="post-expand">see more</a>

                    <footer>
                        
    
        <menu>
            <li class="realtime" data-role="realtime-notification:585807671">
                <span style="display:none;" class="realtime-replies"></span>
                <a style="display:none;" href="#" class="btn small" data-action="load-queued-posts"></a>
                 <!-- Realtime notification about new replies -->
            </li>

            <li class="voting" data-role="voting">
                
    <a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up">
        <span class="updatable count" data-role="likes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow-2"></i></span>
    </a>
    <a class="vote-down  count-0" title="Vote down">
        <span class="updatable count" data-role="dislikes">0</span>
        <span class="control"><i aria-hidden="true" class="icon-arrow"></i></span>
        <span class="tooltip">You must sign in to down-vote this post.</span>
    </a>

            </li>
            <li class="bullet" aria-hidden="true"></li>

            
                

                
                    <li class="reply"><a href="#" data-action="reply">Reply</a></li>
                    <li class="bullet" aria-hidden="true"></li>
                
            

            <li class="share">
                <a class="toggle">Share </a>
                <ul>
                    <li class="twitter"><a href="#" data-action="share:twitter">Twitter</a></li>
                    <li class="facebook"><a href="#" data-action="share:facebook">Facebook</a></li>
                    <li class="link"><a href="#comment-585807671">Link</a></li>
                </ul>
            </li>
        </menu>
    

                    </footer>
                </div>

             
         

        <div data-role="blacklist-form"></div>
    </div>

    <!-- Child comments are appended here -->
    <ul data-role="children" class="children">

</ul></li></ul></li></ul>

            <div class="load-more" data-role="more" style="display:none">
                <a href="#" data-action="more-posts" class="btn">Load more comments</a>
            </div>
        </div>

        
            
                
    
        <section id="reactions" style="display:none;" data-role="main">

            <ul id="reaction-list" class="post-list loading">
            </ul>

            <div class="load-more" data-role="more" style="display:none">
                <a href="#" data-action="more-reactions" class="btn">Load more reactions</a>
            </div>
        </section>
    

            
        
    </section>

    <section id="community" style="display:none" data-role="main">
<div>
    <div class="primary">
        <h3>Top Discussions on 
    <strong>Arg! Team Blog</strong>
</h3>
        <div data-role="top-threads"><ol class="loading" id="top-threads"></ol></div>
    </div>

    <div class="secondary">
        <h3>Top Commenters</h3>

        <div data-role="top-users"><ol class="loading" id="top-users"></ol></div>
    </div>
</div>

</section>

    <section id="dashboard" style="display:none" data-role="main">
        <!-- Dashboard goes here -->
        <!-- Default message if there are no notifications or activity to show -->
        <p style="line-height: 1.4">Nothing for you here ... yet. But as you comment with Disqus and follow
        other Disqus users, you will start to receive notifications here, as well as a personalized
        feed of activity by you and the people you follow. So get out there and participate in
        some discussions!</p>
    </section>

    <section id="profile" style="display:none" data-role="main">
    </section>

    

    <div id="discovery"></div>

    <div id="footer">
        <ul>
            <li class="logo"><a href="http://disqus.com/" title="Powered by Disqus">Powered by Disqus</a></li>
            <li class="rss"><a href="http://argteamblog.disqus.com/hardening_nodejs_for_production_part_2_using_nginx_to_avoid_nodejs_load/latest.rss"><i aria-hidden="true" class="icon-feed" title="in reply to"></i><span class="clip">Comment feed</span></a></li>
            <li id="thread-subscribe-button" class="email"> <!-- Three options: nothing, show-form, subscribed -->
                <div class="default">
                    <a href="#" data-action="subscribe"><i aria-hidden="true" class="icon-mail" title="Get email updates"></i><span class="clip">Subscribe via email</span> <i aria-hidden="true" class="icon-checkmark" title="Subscribe via email"></i></a>
                </div>
                <div class="form">
                    <div class="input-wrapper"><input id="thread-subscribe-email" placeholder="yourname@email.com" type="text"></div>
                </div>
            </li>
        </ul>
    </div>
</div></body></html>